# Checklist avant match

## Descriptif du document

### Objectif

Le but de ce document est de fournir une checklist à suivre par les équipiers dans les 3 minutes de préparation avant match afin de s'assurer du bon déroulé du match.

### Champ d'action

Ce document ne couvre **pas**
- La mise en place des balises
- Les éléments de règlement relatifs à l'homologation
- L'organisation à adopter par les deux équipiers

### Organisation

La checklist est présentée sous la forme d'un tableau avec étapes numérotées. Ces étapes doivent être réalisées dans l'ordre.

- La colonne à faire contient un descriptif des actions à faire à cette étape.
- La colonne à vérifier contient une ou des méthodes de vérification que l'étape a été réalisée correctement et produit l'effet voulu sur le robot.
- La colonne correctif contient l'instruction à suivre en cas d'échec de la vérification

## Préparation du match

### Etat du robot avant checklist

Avant le début de la checklist, et donc avant le match, le robot doit :
- Avoir son bouton d'arrêt d'urgence enfoncé
- Avoir sa batterie débranchée
- Avoir son panneau arrière retiré

### Checklist

| étape | à faire                                                                                                                                                                              | à vérifier                                                                                                                                                                                                                                                                                        | correctif                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1     | Choisir une batterie chargée<br/>Placer la batterie dans un sac<br/>Brancher le connecteur en T rouge à celui du robot                                                               | Vérifier le pourcentage de charge de la batterie est supérieur à 40%<br/> Vérifier que la led battery est verte<br/>Vérifier que la led 12v est verte<br/>Vérifier que l'écran s'allume et que le fond d'écran de la raspi s'affiche<br/>Vérifier que la led button et la led transfo sont rouges | Charge insuffisante => changer de batterie<br/>Led battery éteinte => vérifier branchement connecteur en T<br/>Led 12v éteinte => changer le fusible<br/>Raspi ne s'allume pas => vérifier que le bouton d'arrêt d'urgence est appuyé et recommencer étape 1<br/>Pas de leds rouges => Enclencher le bouton d'arrêt d'urgence                                                                                                                                              |                                                                                                                                             |                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                              |
| 2     | Cliquer sur l'écran sur "Démarrer Serge"<br/>Cliquer sur mode Jeu<br/>Dans Lidar, cliquer sur le bouton start                                                                        | Vérifier sur l'IHM que la santé du lidar est bonne en cliquant sur get health                                                                                                                                                                                                                     | Santé du LIDAR à 0 => débrancher puis rebrancher le câble USB du lidar de la raspi puis recommencer étape 2<br/>Erreur "Binding fail" => rebooter la raspi                                                                                                                                                                                                                                                                                                                 |
| 3     | Tourner le bouton d'arrêt d'urgence dans le sens des flèches pour le faire remonter                                                                                                  | Vérifier que les leds rouges sont éteintes<br/>Vérifier que 5 leds vertes sont allumées                                                                                                                                                                                                           | Leds rouges encore allumées => Désenclancher le bouton d'arrêt d'urgence<br/>Une seule led verte allumée (battery) => changer le fusible<br/>Led verte button éteinte => si led rouge button éteinte, vérifier les câblages du bouton d'arrêt d'urgence<br/>Led 5v éteinte => transformateur mort, passer les branchements du 5v sur le bornier à vis du 5v NC<br/>Led relay éteinte => relai ou transfo mort, passer les branchements du 5v NC sur le bornier à vis du 5v |
| 4     | Fixer le panneau arrière                                                                                                                                                             | Vérifier en passant le doigt que les jonctions haute et basse sont lisses                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 5     | Placer le robot dans la zone de départ à l'aide des cales.                                                                                                                           | Vérifier que la grande cale est à l'arrière et la petite sur le côté                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 6     | Enclencher la tirette<br/>Sur l'IHM cliquer sur le logo Modelec pour quitter le programme de match<br/>Cliquer sur mode jeu<br/>Cliquer sur la zone dans laquelle se trouve le robot | Vérifier sur l'IHM que la tirette est détectée en cliquant sur get state<br/>Cliquer sur ping pour tout les composants et vérifier le retour de ping des composants (cases cochées)                                                                                                               | Tirette non détectée => vérifier le câblage des GPIO de la tirette sur la raspi<br/>Si pas de ping de l'arduino => vérifier l'USB de l'arduino<br/>Si autres problèmes => rebooter la raspi et reprendre étapes 2 et 6<br/>Erreur "Binding fail" => rebooter la raspi                                                                                                                                                                                                      |
| 7     | Cliquer sur l'IHM sur le gros bouton bleu "Play". Attention la tirette est armée, le match est prêt à démarrer                                                                       | Vérifier que l'écran passe en mode score                                                                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |